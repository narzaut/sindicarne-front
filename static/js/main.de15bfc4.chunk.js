(this["webpackJsonpsindicarne-front"]=this["webpackJsonpsindicarne-front"]||[]).push([[0],{16:function(e,t,a){},19:function(e,t){},20:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(10),o=a.n(n),l=(a(16),a(0));function c(){return Object(l.jsx)("div",{className:"shadow-2xl border-b-8 border-green bg-header-blue py-4 w-full flex items-center justify-center h-full",children:Object(l.jsx)("img",{alt:"sindicato de la carne",className:"h-full w-2/3 md:w-2/4 lg:w-1/5",src:"/sindicarne-front/assets/logo.png"})})}var i=a(2),u=a.n(i),d=a(4),m=a(3),p=a(5),b=a(11),j=a(6);function f(e){var t,a,r=e.icon,n=e.type,o=e.errors,c=e.register,i=e.value,u=e.placeholder,d=e.required,m=Object(s.useState)(""),b=Object(p.a)(m,2),f=b[0],x=b[1];return t=o?" focus:border-red-400":" focus-border-green",Object(s.useEffect)((function(){o?o.types.pattern?x(o.types.pattern):x(o.message):x("")}),[o]),a=c(i,"email"==n?{required:{value:d,message:"Campo requerido"},pattern:{value:/^\S+@\S+$/i,message:"Email inv\xe1lido"}}:"tel"==n?{required:{value:d,message:"Campo requerido"},pattern:{value:/^[0-9]+$/i,message:"N\xfamero no v\xe1lido"},minLength:{value:7,message:"N\xfamero no v\xe1lido"},maxLength:{value:100,message:"N\xfamero no v\xe1lido"}}:"dni"==n?{required:{value:d,message:"Campo requerido"},pattern:{value:/^[0-9]+$/i,message:"Recuerde ingresar solo los n\xfameros"},minLength:{value:7,message:"Documento no v\xe1lido"},maxLength:{value:8,message:"Documento no v\xe1lido"}}:{required:{value:d,message:"Campo requerido"}}),Object(l.jsxs)("div",{className:"py-3",children:[Object(l.jsx)("label",{className:"flex flex-col",for:i,children:u}),Object(l.jsxs)("div",{className:"flex  flex-col relative",children:[Object(l.jsx)("i",{class:"text-gray-700 absolute top-1/2 transform -translate-y-1/2 left-3 "+r}),Object(l.jsx)("div",{className:"w-full",children:Object(l.jsx)("div",{className:"flex",children:Object(l.jsx)("input",Object(j.a)(Object(j.a)({id:i},a),{},{className:"py-1 px-8 font-semibold hide-input-cursor  w-60 placeholder-gray-400 text-gray-800 border-transparent focus:outline-none border-4 input-color outline-none rounded text-base text-center  ".concat(t),autoComplete:"off"}))})})]}),Object(l.jsx)("p",{className:"pt-1 pl-1 text-xs text-red-500 font-bold ",children:f?Object(l.jsxs)("span",{children:[Object(l.jsx)("i",{class:"fas fa-exclamation-circle"})," ",f]}):""})]})}function x(e){var t,a=e.icon,s=e.options,r=e.placeholder,n=e.errors,o=e.register,c=e.value,i=e.required;return t=n?" focus:border-red-400":" focus-border-green",Object(l.jsxs)("div",{className:"py-3 ",children:[Object(l.jsx)("p",{children:r}),Object(l.jsxs)("div",{className:"flex  pb-4 flex-col  ",children:[Object(l.jsxs)("div",{className:"relative ",children:[Object(l.jsx)("i",{class:"text-gray-700 absolute top-1/2 transform -translate-y-1/2 left-3 "+a}),Object(l.jsxs)("select",Object(j.a)(Object(j.a)({className:"w-60 py-1 flex text-center  mx-auto text-gray-800 font-semibold border-4 border-transparent input-color  rounded  pl-2 ".concat(t)},o(c,{required:i})),{},{name:c,children:[Object(l.jsx)("option",{value:"",hidden:!0,selected:!0}),s.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.option})}))]}))]}),n&&Object(l.jsxs)("p",{className:"pt-1 pl-1 text-xs text-red-500 font-bold",children:[Object(l.jsx)("i",{class:"fas fa-exclamation-circle"})," Campo obligatorio"]})]})]})}a(19);var h=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},g=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("//64.225.47.18:3030/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:"postulante"})}).then((function(e){return e.json()})).then((function(e){t=1==e.ok?e.token:null})).catch((function(e){return t=null,null}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e,t){return fetch("//64.225.47.18:3030/api/postulantes",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":e},body:JSON.stringify({nombrePostulante:t.nombrePostulante,dniPostulante:t.dniPostulante,fingresoPostulante:h(new Date),fnacimientoPostulante:t.fechaNacimiento,estadocivil:parseInt(t.estadocivil),empresaPostulante:t.empresaPostulante.trim(),activoPostulante:1,telPostulante:t.telPostulante,emailPostulante:t.emailPostulante.trim().toLowerCase()})})},O=function(e){return fetch("//64.225.47.18:3030/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombrePostulante:e.nombrePostulante,dniPostulante:e.dniPostulante,empresaPostulante:e.empresaPostulante.trim(),telPostulante:e.telPostulante,emailPostulante:e.emailPostulante.trim().toLowerCase()})})},y=function(){var e,t=Object(b.a)({criteriaMode:"all"}),a=t.register,r=t.handleSubmit,n=t.formState.errors,o=Object(s.useState)({date:new Date,validated:!1}),c=Object(p.a)(o,2),i=c[0],y=(c[1],Object(s.useState)(!1)),N=Object(p.a)(y,2),w=N[0],P=N[1],S=Object(s.useState)({status:!1,success:!1,message:""}),C=Object(p.a)(S,2),q=C[0],k=C[1];e=1==q.success?"text-green-400":" text-red-400";var D=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),k({message:q,status:!1}),t.nombrePostulante=t.nombrePostulante.trim()+" "+t.apellido.trim(),!(s=(n=i).date.getFullYear()<=(new Date).getFullYear()-17?Object(j.a)(Object(j.a)({},n),{},{validated:!0}):Object(j.a)(Object(j.a)({},n),{},{validated:!1})).validated){e.next=13;break}return t.fechaNacimiento=h(s.date),P(!0),e.next=9,g();case 9:(r=e.sent)?v(r,t).then((function(e){return e.json()})).then((function(e){200==e.status?(k(Object(d.a)({message:q,success:!0,status:!0},"message","Se ha realizado la inscripci\xf3n.")),O(t).then((function(e){return e.json()})).then((function(e){console.log(e.message)}))):400==e.status&&k(Object(d.a)({message:q,success:!1,status:!0},"message","Esta persona ya se encuentra inscripta.")),console.log(e.message)})).catch((function(e){})):k(Object(d.a)({message:q,success:!1,status:!0},"message","Hubo un error en el registro. Intente m\xe1s tarde.")),e.next=14;break;case 13:P(!1);case 14:setTimeout((function(){return P(!1)}),1500);case 15:case"end":return e.stop()}var n}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"flex flex-col w-full  items-center justify-center pb-10 mt-6",children:Object(l.jsxs)("form",{onChange:function(){k({message:q,status:!1})},className:"mt-10 rounded-md glass card-shadow w-5/6 lg:w-1/2 py-4  lg:py-10  flex flex-col items-center justify-center ",onSubmit:r(D),children:[Object(l.jsx)("p",{className:"mb-2 lg:mb-6 lg:text-lg text-gray-800  font-bold border-b-4 border-green rounded max-w-max",children:"Formulario de inscripci\xf3n"}),Object(l.jsx)(f,{icon:"fas fa-user",value:"nombrePostulante",errors:n.nombrePostulante,placeholder:"Nombre",register:a,required:!0},"asd"),Object(l.jsx)(f,{icon:"fas fa-user",value:"apellido",errors:n.apellido,placeholder:"Apellido",register:a,required:!0},"asd1"),Object(l.jsx)(f,{icon:"fas fa-id-card",type:"dni",value:"dniPostulante",errors:n.dniPostulante,placeholder:"Documento (DNI)",register:a,required:!0},"asd2"),Object(l.jsx)(f,{icon:"fas fa-envelope",type:"email",value:"emailPostulante",errors:n.emailPostulante,placeholder:"Correo electr\xf3nico",register:a,required:!0},"asd4"),Object(l.jsx)(f,{icon:"fas fa-phone-alt",type:"tel",value:"telPostulante",errors:n.telPostulante,placeholder:"Tel\xe9fono / Celular",register:a,required:!0},"asd5"),Object(l.jsx)(f,{icon:"fas fa-building",value:"empresaPostulante",errors:n.empresaPostulante,placeholder:"Empresa",register:a,required:!0},"asd6"),Object(l.jsx)(x,{icon:"fas fa-users",placer:"Grupo familiar",options:[{option:"Con grupo familiar",value:1},{option:"Sin grupo familiar",value:0}],placeholder:"Grupo familiar",value:"estadocivil",errors:n.estadocivil,register:a,required:!0},"asd7"),1==q.status?Object(l.jsx)("p",{className:"text-shadow-sm tracking-wide text-sm lg:text-lg font-bold py-4 ".concat(e),children:q.message}):"",Object(l.jsx)("button",{disabled:w,className:"mt-4  tracking-wider  cursor-pointer text-shadow transition hover-bg-green rounded  px-4 py-2 bg-green text-gray-100 font-semibold hover-press-animation hover:shadow-2xl",type:"submit",children:"INSCRIBIRSE"})]})})};function N(){return Object(l.jsxs)("div",{className:"text-shadow border-t-4 border-green divide-y-2 text-center gap-4  lg:text-lg bg-header-blue py-4 w-full flex flex-col text-gray-300 font-medium items-center justify-center ",children:[Object(l.jsxs)("div",{className:"gap-4 ",children:[Object(l.jsx)("p",{children:"Sindicato de la Carne R\xedo Cuarto"}),Object(l.jsx)("p",{children:"Lavalle 992, Esq. Bolivar - R\xedo Cuarto - C\xf3rdoba"}),Object(l.jsx)("p",{children:"0358-4649-942"}),Object(l.jsx)("p",{children:"sin.dela.carnerioiv@hotmail.com"}),Object(l.jsx)("a",{className:"font-bold",href:"https://sindicarne.com.ar/politica_privacidad",children:"Leer politica de privacidad de nuestra app "})]}),Object(l.jsx)("div",{className:"py-2  w-2/3 lg:w-1/3 border-0 border-green",children:Object(l.jsxs)("p",{className:"w-full",children:["Desarrollado por ",Object(l.jsxs)("a",{href:"https://www.itecriocuarto.org.ar/",className:"font-bold ",children:[Object(l.jsx)("span",{className:"text-red-400",children:"i"}),Object(l.jsx)("span",{className:"text-blue-400",children:"T"}),Object(l.jsx)("span",{className:"text-yellow-400",children:"e"}),Object(l.jsx)("span",{className:"text-green-400",children:"c"})," LABs"]})]})})]})}var w=function(){return Object(l.jsxs)("div",{className:"titillium-font  h-screen overflow-scroll overflow-x-hidden bg-app-blue flex flex-col items-center",children:[Object(l.jsx)(c,{}),Object(l.jsx)(y,{}),Object(l.jsx)(N,{})]})};o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.de15bfc4.chunk.js.map