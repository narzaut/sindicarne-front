(this["webpackJsonpsindicarne-front"]=this["webpackJsonpsindicarne-front"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a.n(r),n=a(22),o=a.n(n),l=(a(52),a(4));function c(){return Object(l.jsx)("div",{className:"shadow-2xl border-b-8 border-green bg-header-blue py-4 w-full flex items-center justify-center ",children:Object(l.jsx)("img",{className:"w-2/3 md:w-2/4 lg:w-1/5",src:"/sindicarne-form/assets/logo.png"})})}var i=a(5),d=a.n(i),u=a(8),b=a(7),m=a(9),j=a(44),p=a(6);function f(e){var t,a,s=e.icon,n=e.type,o=e.errors,c=e.register,i=e.value,d=e.placeholder,u=e.required,b=Object(r.useState)(""),j=Object(m.a)(b,2),f=j[0],x=j[1];return t=o?" focus:border-red-400":" focus-border-green",Object(r.useEffect)((function(){o?o.types.pattern?x(o.types.pattern):x(o.message):x("")}),[o]),a=c(i,"email"==n?{required:{value:u,message:"Campo requerido"},pattern:{value:/^\S+@\S+$/i,message:"Email inv\xe1lido"}}:"tel"==n?{required:{value:u,message:"Campo requerido"},pattern:{value:/^[0-9]+$/i,message:"N\xfamero no v\xe1lido"},minLength:{value:7,message:"N\xfamero no v\xe1lido"},maxLength:{value:100,message:"N\xfamero no v\xe1lido"}}:"dni"==n?{required:{value:u,message:"Campo requerido"},pattern:{value:/^[0-9]+$/i,message:"Recuerde ingresar solo los n\xfameros"},minLength:{value:7,message:"Documento no v\xe1lido"},maxLength:{value:8,message:"Documento no v\xe1lido"}}:{required:{value:u,message:"Campo requerido"}}),Object(l.jsxs)("div",{className:"py-3",children:[Object(l.jsx)("p",{children:d}),Object(l.jsxs)("div",{className:"flex  flex-col relative",children:[Object(l.jsx)("i",{class:"text-gray-700 absolute top-1/2 transform -translate-y-1/2 left-3 "+s}),Object(l.jsx)("div",{className:"w-full",children:Object(l.jsx)("input",Object(p.a)(Object(p.a)({},a),{},{className:"py-1  font-semibold hide-input-cursor  w-52 placeholder-gray-400 text-gray-800 border-transparent focus:outline-none border-4 input-color outline-none rounded text-base text-center  ".concat(t),autoComplete:"off"}))})]}),Object(l.jsx)("p",{className:"pt-1 pl-1 text-xs text-red-500 font-bold ",children:f?Object(l.jsxs)("span",{children:[Object(l.jsx)("i",{class:"fas fa-exclamation-circle"})," ",f]}):""})]})}function x(e){var t,a=e.icon,r=e.options,s=e.placeholder,n=e.errors,o=e.register,c=e.value,i=e.required;return t=n?" focus:border-red-400":" focus-border-green",Object(l.jsxs)("div",{className:"py-3",children:[Object(l.jsx)("p",{children:s}),Object(l.jsxs)("div",{className:"flex  pb-10 flex-col  ",children:[Object(l.jsxs)("div",{className:"relative ",children:[Object(l.jsx)("i",{class:"text-gray-700 absolute top-1/2 transform -translate-y-1/2 left-3 "+a}),Object(l.jsxs)("select",Object(p.a)(Object(p.a)({className:"w-52 py-1 text-center text-gray-800 font-semibold border-4 border-transparent input-color  rounded  pl-2 ".concat(t)},o(c,{required:i})),{},{children:[Object(l.jsx)("option",{value:"",hidden:!0,selected:!0}),r.map((function(e){return Object(l.jsx)("option",{value:e.value,children:e.option})}))]}))]}),n&&Object(l.jsxs)("p",{className:"pt-1 pl-1 text-xs text-red-500 font-bold",children:[Object(l.jsx)("i",{class:"fas fa-exclamation-circle"})," Campo obligatorio"]})]})]})}var g=a(26),h=a.n(g),O=(a(55),a(45));function v(e){var t=e.icon,a=e.startDate,r=e.setStartDate;return Object(g.registerLocale)("es",O.a)," focus:border-red-400",Object(l.jsxs)("div",{className:"pt-2",children:[Object(l.jsx)("p",{children:"Fecha de nacimiento"}),Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsx)("i",{class:"z-10 text-gray-700 absolute top-1/2 transform -translate-y-1/2 left-3 "+t}),Object(l.jsx)(h.a,{onBlur:function(){return a.date.getFullYear()<=(new Date).getFullYear()-17?r(Object(p.a)(Object(p.a)({},a),{},{validated:!0})):r(Object(p.a)(Object(p.a)({},a),{},{validated:!1}))},dateFormat:"dd/MM/yyyy",selected:a.date,className:"py-1 outline-none border-4 border-transparent focus-border-green input-color text-gray-800 font-semibold rounded w-52  text-center ".concat(" focus:border-red-400"),locale:"es",onChange:function(e){r(Object(p.a)(Object(p.a)({},a),{},{date:e}))}},"asd3")]}),a.date.getFullYear()>(new Date).getFullYear()-17?Object(l.jsxs)("p",{className:"pl-1 text-left pt-1  text-xs text-red-500 font-bold",children:[Object(l.jsx)("i",{class:"fas fa-exclamation-circle"})," Debe ser mayor de 17 a\xf1os"]}):""]})}var y=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},N=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://64.225.47.18:3030/api/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:"postulante"})}).then((function(e){return e.json()})).then((function(e){t=1==e.ok?e.token:null})).catch((function(e){return t=null,null}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e,t){return fetch("http://64.225.47.18:3030/api/postulantes",{method:"POST",headers:{"Content-Type":"application/json","x-auth-token":e},body:JSON.stringify({nombrePostulante:t.nombrePostulante,dniPostulante:t.dniPostulante,fingresoPostulante:y(new Date),fnacimientoPostulante:t.fechaNacimiento,estadocivil:parseInt(t.estadocivil),empresaPostulante:t.empresaPostulante.trim(),activoPostulante:1,telPostulante:t.telPostulante,emailPostulante:t.emailPostulante.trim()})})},P=function(e){return fetch("http://64.225.47.18:3030/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombrePostulante:e.nombrePostulante,dniPostulante:e.dniPostulante,empresaPostulante:e.empresaPostulante.trim(),telPostulante:e.telPostulante,emailPostulante:e.emailPostulante.trim()})})},S=function(){var e,t=Object(j.a)({criteriaMode:"all"}),a=t.register,s=t.handleSubmit,n=t.formState.errors,o=Object(r.useState)({date:new Date,validated:!1}),c=Object(m.a)(o,2),i=c[0],g=c[1],h=Object(r.useState)(!1),O=Object(m.a)(h,2),S=O[0],q=O[1],C=Object(r.useState)({status:!1,success:!1,message:""}),D=Object(m.a)(C,2),F=D[0],k=D[1];i.date.getFullYear(),(new Date).getFullYear(),e=1==F.success?"font-bold text-green-400":"pt-4 text-sm lg:text-lg font-bold text-red-400";var T=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),k({message:F,status:!1}),t.nombrePostulante=t.nombrePostulante.trim()+" "+t.apellido.trim(),!(r=(n=i).date.getFullYear()<=(new Date).getFullYear()-17?Object(p.a)(Object(p.a)({},n),{},{validated:!0}):Object(p.a)(Object(p.a)({},n),{},{validated:!1})).validated){e.next=13;break}return t.fechaNacimiento=y(r.date),q(!0),e.next=9,N();case 9:(s=e.sent)?w(s,t).then((function(e){return e.json()})).then((function(e){200==e.status?(k(Object(u.a)({message:F,success:!0,status:!0},"message","Se ha realizado la inscripci\xf3n.")),P(t).then((function(e){return e.json()})).then((function(e){console.log(e.message)}))):400==e.status&&k(Object(u.a)({message:F,success:!1,status:!0},"message","Esta persona ya se encuentra inscripta.")),console.log(e.message)})).catch((function(e){})):k(Object(u.a)({message:F,success:!1,status:!0},"message","Hubo un error en el registro. Intente m\xe1s tarde.")),e.next=14;break;case 13:q(!1);case 14:setTimeout((function(){return q(!1)}),1500);case 15:case"end":return e.stop()}var n}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"flex flex-col w-full  items-center justify-center pb-10 mt-6",children:Object(l.jsxs)("form",{onChange:function(){k({message:F,status:!1})},className:"mt-10 rounded-md glass card-shadow w-3/4 lg:w-1/2 py-4  lg:py-10  flex flex-col items-center justify-center ",onSubmit:s(T),children:[Object(l.jsx)("p",{className:"mb-2 lg:mb-6 lg:text-lg text-gray-800  font-bold border-b-4 border-green rounded max-w-max",children:"Formulario de inscripci\xf3n"}),Object(l.jsx)(f,{icon:"fas fa-user",value:"nombrePostulante",errors:n.nombrePostulante,placeholder:"Nombre",register:a,required:!0},"asd"),Object(l.jsx)(f,{icon:"fas fa-user",value:"apellido",errors:n.apellido,placeholder:"Apellido",register:a,required:!0},"asd1"),Object(l.jsx)(f,{icon:"fas fa-id-card",type:"dni",value:"dniPostulante",errors:n.dniPostulante,placeholder:"Documento (DNI)",register:a,required:!0},"asd2"),Object(l.jsx)(v,{icon:"fas fa-calendar-alt",startDate:i,setStartDate:g}),Object(l.jsx)(f,{icon:"fas fa-envelope",type:"email",value:"emailPostulante",errors:n.emailPostulante,placeholder:"Correo electr\xf3nico",register:a,required:!0},"asd4"),Object(l.jsx)(f,{icon:"fas fa-phone-alt",type:"tel",value:"telPostulante",errors:n.telPostulante,placeholder:"Tel\xe9fono / Celular",register:a,required:!0},"asd5"),Object(l.jsx)(f,{icon:"fas fa-building",value:"empresaPostulante",errors:n.empresaPostulante,placeholder:"Empresa",register:a,required:!0},"asd6"),Object(l.jsx)(x,{icon:"fas fa-users",placer:"Grupo familiar",options:[{option:"Con grupo familiar",value:1},{option:"Sin grupo familiar",value:0}],placeholder:"Grupo familiar",value:"estadocivil",errors:n.estadocivil,register:a,required:!0},"asd7"),Object(l.jsx)("button",{disabled:S,className:"tracking-wider  cursor-pointer text-shadow transition hover-bg-green rounded  px-4 py-2 bg-green text-gray-100 font-semibold hover-press-animation hover:shadow-2xl",type:"submit",children:"INSCRIBIRSE"}),1==F.status?Object(l.jsx)("p",{className:"".concat(e),children:F.message}):""]})})};function q(){return Object(l.jsxs)("div",{className:"text-shadow border-t-4 border-green divide-y-2 text-center gap-4  lg:text-lg bg-header-blue py-4 w-full flex flex-col text-gray-300 font-medium items-center justify-center ",children:[Object(l.jsxs)("div",{className:"gap-4 ",children:[Object(l.jsx)("p",{children:"Sindicato de la Carne R\xedo Cuarto"}),Object(l.jsx)("p",{children:"Lavalle 992, Esq. Bolivar - R\xedo Cuarto - C\xf3rdoba"}),Object(l.jsx)("p",{children:"0358-4649-942"}),Object(l.jsx)("p",{children:"sin.dela.carnerioiv@hotmail.com"}),Object(l.jsx)("a",{className:"font-bold",href:"https://sindicarne.com.ar/politica_privacidad",children:"Leer politica de privacidad de nuestra app "})]}),Object(l.jsx)("div",{className:"py-2  w-2/3 lg:w-1/3 border-0 border-green",children:Object(l.jsxs)("p",{className:"w-full",children:["Desarrollado por ",Object(l.jsxs)("a",{href:"https://www.itecriocuarto.org.ar/",className:"font-bold ",children:[Object(l.jsx)("span",{className:"text-red-400",children:"i"}),Object(l.jsx)("span",{className:"text-blue-400",children:"T"}),Object(l.jsx)("span",{className:"text-yellow-400",children:"e"}),Object(l.jsx)("span",{className:"text-green-400",children:"c"})," LABs"]})]})})]})}var C=function(){return Object(l.jsxs)("div",{className:"titillium-font  h-screen overflow-scroll overflow-x-hidden bg-app-blue flex flex-col items-center",children:[Object(l.jsx)(c,{}),Object(l.jsx)(S,{}),Object(l.jsx)(q,{})]})};o.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))},52:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.deed3c1c.chunk.js.map